sudo: true
language: java
jdk:
- oraclejdk8
before_install:
- ulimit -c unlimited -S
- echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-
after_success:
- bash .travis_after_success.sh
cache:
  directories:
  - "$HOME/.m2"
addons:
  apt:
    packages:
    - oracle-java8-installer
  coverity_scan:
    project:
      name: "chelnyedu/dropwizard-rest"
      description: "Build submitted via Travis CI"
    notification_email: asaushkin@gmail.com
    build_command_prepend: "mvn clean"
    build_command:   "mvn -DskipTests=true compile"
    branch_pattern: coverity_scan
env:
  global:
  - JAVA_OPTS: "'-Xms512m -Xmx2g'"
  # Coverage
  - secure: f8UAvGBRY8XrOvyjQPomTi6Q7xWAAn1UOIsrCOX5vlwkNf9iYlyxFTiNbemceclJj904Y+eyYRbH4T9In9BNhDUAumYa9GzqpOdtSMDn3KOYFbInP1SjliZJFDzlbk+cxh5natkbU7l5Md7FfrXEPVvPEBALCyph3oUb1S17vgh7Rm3et34VAm3+kYuUnzQdHd5H6G33rb5oVLIIUB7wRNAqlli0Dn9VsCsbn2W+ZyznYwpfzyjiu4Qxk0DReebyNEhuQWdZnCvQnSJpBb8FOIDPX9lYwVA4T4TPKazAvcwV1YwtBkj/4br2a43EClyFSw4g+WBaY3cIffIfrnV2hGftD9jbTDAJ1KKaBJGJ22ETbTi0E0yOO+pwgBmSc79fCN4y4yv0Y05Kig+hD/NGgB0KGPv6rZRpGQ+u01Y5JmhMBK/ouHpJ2V+D4MafnJTjnPl5rfwhLR9a0d8rUHCOrEPotGUvjI+fUYrk7GnNrwHOdvFHBBRv6mcCws1c4VaFIghf5o8OY3zExUAz5LUuRgw4/yxHbKvpC/QynKdqUABJhS1/VR45czhxydYWqp8LnjqRxiXDawPgqeUNPodz1I5q+t7H4s8IkH1wNlmmd0hm9t3WTKEwU50kACTqt34nD/I4Rjer1BbJUnX00+k5nBpJa9nEF9oNtwaykO2niEU=
  # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
  #   via the "travis encrypt" command using the project repo's public key
  - secure: "NaIiE21ks12Ba03WhqXIVD0dMdSM0lpm3HepOFSadcLxxtZULCfiho0tCIPVlZTVCqCX5/Tm/XsRohZIubmJlx60n1zWcPUGs0WB+ji+CTTGg+kstDN/NSwzVMw+NqoXtB9Wt2S2ZQMqTuj4AZqP4vA4sRxrL3eF+rC16lL11BwEXN48RRidS6SPaSs/c+cnakO3wJsxtMBc7w5NDHxIPySGat2W//GXd06UiXFdoMI8PehlOWGObd90S/fmUlwN6IihUtyczid8wutVtuy/J8YhhtUtZZU4gC+nagdkp4AJkJUSJf7VpZdBVHlLXh65m84UyRQtD5+9jJFdfWpFMU4BdVLuAvPq6B1iF0GkzvvxX28LnrQ5NbaVCW4UBItsfsomotTftBqeTS15vo75R11OMPXR1m83q6gxlcg8Rittsmzqyk0YkFJZjVtWIT79EZnhXDRA8mnl6hHM4u5PIOVFzMba1sLucv84M+cxcdK4vjjsrUqqxYdkOemsknREtUKWd8/wloSOFJ0QG1fHnEdF97iXwIY1nQ56MrYIgCM2pThhbmsituRrGaykigMm3Rt4gFjOYW9/rtzbpJFl8XkoDt6ZlENCLv4RbquGVV/puFVSP3YDrlHecyi3LUjKMa22EkLzTLyf7TTmA+uIcjKOfEOymKfIeNDUTsbxK6U="
